OBJDIRS += pkg/htcdream/smdd

SMDD_SRCFILES := smdd.c smd.c smd_tty.c smd_qmi.c smd_rpcrouter.c smd_rpcrouter_servers.c
SMDD_OBJFILES := $(patsubst %.c, $(OBJDIR)/pkg/htcdream/smdd/%.o, $(SMDD_SRCFILES))

$(OBJDIR)/pkg/htcdream/smdd/%.o: pkg/htcdream/smdd/%.c
	@mkdir -p $(@D)
	$(CXX) $(USER_CXXFLAGS) -Werror -Wno-missing-noreturn -c -o $@ $<

$(OBJDIR)/user/smdd.debuginfo: $(SMDD_OBJFILES) $(LDEPS)
	$(CXX) -o $@ $(LDFLAGS) $(SMDD_OBJFILES)
